import{R as s,a as t,j as a}from"./index.78c62200.js";import{Link as v}from"./5c0ecc77.js";import"./459a0640.js";import"./a4b1cbe7.js";import"./d658131c.js";import"./2b4d78e9.js";import"./559c173a.js";import"./2e9b5744.js";import"./c6a79924.js";import{u as N}from"./b6229e35.js";import{callLoginApi as E}from"./4d48c1ab.js";import"./822fbd9b.js";function T(){const o=N(),[l,n]=s.useState(null),[i,r]=s.useState(""),[c,h]=s.useState(null),[u,x]=s.useState(""),[d,f]=s.useState(null);function b(e){return e.validity.valid?null:e.validity.valueMissing?"Please enter an email":"Please enter a valid email"}function w(e){return e.validity.valid?null:e.validity.valueMissing?"Please enter a password":"Password must be at least 6 characters"}async function y(e){e.preventDefault(),h(null),f(null),n(null);const m=b(e.target.email);m&&h(m);const p=w(e.target.password);if(p&&f(p),m||p)return;const g=await A({email:i,password:u});if(g.error){n(g.error);return}await E({email:i,password:u}),o("/account")}return t("div",{className:"flex justify-center",children:a("div",{className:"max-w-md w-full",children:[t("h1",{className:"text-4xl",children:"Create an Account."}),a("form",{noValidate:!0,className:"pt-6 pb-8 mt-4 mb-4",onSubmit:y,children:[l&&t("div",{className:"flex items-center justify-center mb-6 bg-zinc-500",children:t("p",{className:"m-4 text-s text-white",children:l})}),a("div",{className:"mb-4",children:[t("input",{className:`mb-1 appearance-none border w-full py-2 px-3 text-gray-800 placeholder:text-gray-500 leading-tight focus:shadow-outline ${c?" border-red-500":"border-gray-900"}`,id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"Email address","aria-label":"Email address",value:i,onChange:e=>{r(e.target.value)}}),a("p",{className:`text-red-500 text-xs ${c?"":"invisible"}`,children:[c," \xA0"]})]}),a("div",{className:"mb-4",children:[t("input",{className:`mb-1 appearance-none border w-full py-2 px-3 text-gray-800 placeholder:text-gray-500 leading-tight focus:shadow-outline ${d?" border-red-500":"border-gray-900"}`,id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password","aria-label":"Password",value:u,minLength:8,required:!0,onChange:e=>{x(e.target.value)}}),a("p",{className:`text-red-500 text-xs ${d?"":"invisible"}`,children:[d," \xA0"]})]}),t("div",{className:"flex items-center justify-between",children:t("button",{className:"bg-gray-900 text-white uppercase py-2 px-4 focus:shadow-outline block w-full",type:"submit",children:"Create Account"})}),t("div",{className:"flex items-center mt-4",children:a("p",{className:"align-baseline text-sm",children:["Already have an account? \xA0",t(v,{className:"inline underline",to:"/account",children:"Sign in"})]})})]})]})})}function A({email:o,password:l,firstName:n,lastName:i}){return fetch("/account/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:o,password:l,firstName:n,lastName:i})}).then(r=>r.status===200?{}:r.json()).catch(r=>({error:r.toString()}))}export{T as default};
//# sourceMappingURL=16701e77.js.map
