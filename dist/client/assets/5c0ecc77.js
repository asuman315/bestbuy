var O=Object.defineProperty,A=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var g=(t,e,o)=>e in t?O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,x=(t,e)=>{for(var o in e||(e={}))J.call(e,o)&&g(t,o,e[o]);if(T)for(var o of T(e))W.call(e,o)&&g(t,o,e[o]);return t},E=(t,e)=>A(t,U(e));import{R,r as i,j as $,F as q,a as m,c as z}from"./index.78c62200.js";import{u as C,c as f,a as G}from"./d658131c.js";import{u as H}from"./b6229e35.js";import"./822fbd9b.js";const ne=R.forwardRef(function(e,o){const n=H(),{location:c}=C(),[P,a]=R.useTransition(),[b,F]=i.exports.useState(!1),[S,p]=i.exports.useState(!1),{reloadDocument:k,target:l,replace:v,to:u,onClick:h,clientState:y,prefetch:M=!0,scroll:w=!0}=e,j=i.exports.useCallback(r=>{if(h&&h(r),!k&&r.button===0&&(!l||l==="_self")&&!V(r)){r.preventDefault();const N=!!v||f(c)===f({pathname:u});n(u,{replace:N,scroll:w,clientState:y})}},[h,k,l,v,c,u,n,y,w]),d=()=>{a(()=>{M&&p(!0)})},L=()=>{a(()=>{M&&p(!1)})};i.exports.useEffect(()=>{if(S){const r=setTimeout(()=>{F(!0)},100);return()=>{clearTimeout(r)}}},[S]);const I=s(e.onMouseEnter,d),K=s(e.onMouseLeave,L),_=s(e.onFocus,d),B=s(e.onBlur,L),D=s(e.onTouchStart,d);return $(q,{children:[m("a",E(x({},X(e,["to","replace","clientState","reloadDocument","prefetch","scroll"])),{ref:o,onClick:j,onMouseEnter:I,onMouseLeave:K,onFocus:_,onBlur:B,onTouchStart:D,href:e.to,children:e.children})),b&&m(Q,{pathname:u})]})});function Q({pathname:t}){const{getProposedLocationServerProps:e}=G(),{location:o}=C(),n=f({pathname:t});if(t.startsWith("http")||n===f(o))return null;const c=new URL(n,window.location.href),P=e({pathname:c.pathname,search:c.search}),a=`${z}?state=`+encodeURIComponent(JSON.stringify(P));return m("link",{rel:"prefetch",as:"fetch",href:a})}function s(t,e){return o=>{t==null||t(o),o.defaultPrevented||e(o)}}function V(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X(t,e){const o={};for(const n of Object.keys(t))e.includes(n)||(o[n]=t[n]);return o}export{ne as Link,s as composeEventHandlers};
//# sourceMappingURL=5c0ecc77.js.map
